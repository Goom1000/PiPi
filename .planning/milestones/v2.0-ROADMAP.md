# Milestone v2.0: Shareable Presentations

**Status:** SHIPPED 2026-01-19
**Phases:** 1-5
**Total Plans:** 11

## Overview

Transform PiPi from a personal tool into a shareable application colleagues can use. Users configure their own AI provider and API key in a settings panel, save/load presentations as portable `.pipi` files, and access the app via GitHub Pages. AI features work with any supported provider, and the app remains fully functional even without AI configured.

## Phases

### Phase 1: Settings & API Key UI

**Goal**: User can configure their AI provider and API key with clear setup guidance
**Depends on**: Nothing (first phase)
**Plans**: 2 plans

Plans:
- [x] 01-01: Settings infrastructure (types, useSettings hook, API validation)
- [x] 01-02: SettingsModal UI and header integration

**Details:**
- Provider dropdown (Gemini, Claude)
- API key input with show/hide toggle
- Test Connection button with loading/success/error states
- Collapsible setup instructions with cost info and direct links
- Security notice ("stored locally in your browser only")
- Danger zone with type-to-confirm data clearing

### Phase 2: Multi-Provider AI

**Goal**: AI features work with user's chosen provider and handle errors gracefully
**Depends on**: Phase 1 (needs API key from settings)
**Plans**: 3 plans

Plans:
- [x] 02-01: Provider abstraction layer (interface, error types, factory)
- [x] 02-02: Claude provider implementation
- [x] 02-03: Wire provider to app (settings integration, error modal, loading states, provider-switch warning)

**Details:**
- Strategy pattern with factory for provider abstraction
- AIProviderError class with error codes for unified error handling
- OpenAI removed from UI (CORS blocked in browser)
- Claude uses claude-sonnet-4-20250514 model for text generation
- Claude image methods return undefined (graceful degradation to Gemini)

### Phase 3: Disabled AI State

**Goal**: App is fully usable without API key, with clear path to enable AI features
**Depends on**: Phase 2 (needs provider system)
**Plans**: 2 plans

Plans:
- [x] 03-01: EnableAIModal component, SettingsModal auto-focus, App.tsx integration
- [x] 03-02: Disabled state for SlideCard, ResourceHub, and PresentationView

**Details:**
- Lock icon overlay pattern applied to all 7 AI features
- onRequestAI callback pattern for child component AI feature requests
- Single "Open Settings" action in EnableAIModal
- App fully functional for non-AI workflows

### Phase 4: Save/Load System

**Goal**: User can export presentations to files and load them back
**Depends on**: Phase 1 (settings panel exists for consistent UI patterns)
**Plans**: 3 plans

Plans:
- [x] 04-01: File format types and save/load services
- [x] 04-02: Toast variants and auto-save with recovery
- [x] 04-03: UI integration (header buttons, drag-drop, wiring)

**Details:**
- File version starts at 1, increment on breaking changes
- JSON pretty-print for human-readable .pipi files
- User-friendly error messages for toast display
- Auto-save uses 30s interval with useRef throttling
- Separate localStorage keys for auto-save data and timestamp

### Phase 5: GitHub Pages Deployment

**Goal**: App accessible via public URL that colleagues can visit
**Depends on**: Phases 1-4 (deploy after features complete)
**Plans**: 1 plan

Plans:
- [x] 05-01: Vite config, GitHub Actions workflow, and deployment verification

**Details:**
- GitHub Actions setup-node@v4
- Vite base path /PiPi/ for subdirectory deployment
- Type checking included in CI before build
- Deployed at https://goom1000.github.io/PiPi/

---

## Milestone Summary

**Key Decisions:**

- OpenAI removed from UI due to CORS limitations (browser can't make direct API calls)
- Claude model: claude-sonnet-4-20250514 (latest stable Sonnet)
- Settings sync pattern: Modal saves directly to localStorage AND updates app state on close
- Lock icon overlay pattern applied consistently across all AI features
- File format uses JSON pretty-print for human readability
- Auto-save every 30 seconds with recovery modal on app load

**Issues Resolved:**

- Settings race condition fixed (save directly to localStorage before closing modal)
- Claude CORS configuration and model name issues resolved through iterative debugging
- Missing source files added to repository for CI build
- setup-node@v6 â†’ v4 (v6 doesn't exist)

**Issues Deferred:**

- Model selection dropdown in settings (captured as todo)
- Enhanced setup instructions with screenshots and video (v2.1)
- API usage tracking in settings (v2.1)
- Auto-save indicator in header (v2.1)

**Technical Debt Incurred:**

None - all phases delivered complete implementations.

---

_For current project status, see .planning/ROADMAP.md_
_Archived: 2026-01-19 as part of v2.0 milestone completion_
