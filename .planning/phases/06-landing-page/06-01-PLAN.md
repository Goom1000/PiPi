---
phase: 06-landing-page
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - App.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - "User sees 'Load Presentation' button on landing page alongside Generate button"
    - "User can click Load button to open file picker for .pipi files"
    - "User can drag .pipi file anywhere on landing page and it auto-loads"
    - "Loading a .pipi file from landing page transitions directly to editor"
  artifacts:
    - path: "App.tsx"
      provides: "Load Presentation button in INPUT state UI"
      contains: "Load Presentation"
    - path: "App.tsx"
      provides: "Drag-drop hint text for discoverability"
      contains: "drag a .pipi file"
  key_links:
    - from: "Load Presentation button"
      to: "handleLoadClick"
      via: "onClick handler"
      pattern: "onClick={handleLoadClick}"
    - from: "useDragDrop hook"
      to: "handleLoadFile"
      via: "already wired - enabled in INPUT state"
      pattern: "useDragDrop\\(\\s*handleLoadFile"
---

<objective>
Add "Load Presentation" button and drag-drop hint to the landing page (INPUT state), enabling users to load existing .pipi files without creating a new presentation first.

Purpose: Removes friction for users who already have .pipi presentations saved - they can open them directly from the landing page instead of having to start a new presentation.

Output: Modified App.tsx with Load button and hint text in INPUT state UI.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-landing-page/06-RESEARCH.md

Key code locations in App.tsx:
- handleLoadClick callback (line 451-453): Triggers loadFileInputRef.current?.click()
- handleLoadFile callback (line 427-449): Parses file, sets state, transitions to EDITING
- useDragDrop hook (line 468-472): Already enabled for INPUT state
- INPUT state UI (lines 610-720): Where button and hint text go
- Generate Slideshow button (lines 697-716): Place Load button nearby
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Load Presentation button to landing page</name>
  <files>App.tsx</files>
  <action>
In the INPUT state section (around line 697), modify the button layout to include a "Load Presentation" button alongside the existing "Generate Slideshow" button.

Current structure (single button):
```jsx
<div className="flex justify-center">
  <div className="relative">
    <Button onClick={handleGenerate} ...>Generate Slideshow</Button>
    {/* lock icon */}
  </div>
</div>
```

Replace with two buttons side-by-side:
```jsx
<div className="flex justify-center gap-4">
  <Button
    variant="secondary"
    onClick={handleLoadClick}
    className="px-8 py-4 text-lg"
  >
    Load Presentation
  </Button>
  <div className="relative">
    <Button onClick={handleGenerate} ...>Generate Slideshow</Button>
    {/* lock icon - unchanged */}
  </div>
</div>
```

The Load button:
- Uses `variant="secondary"` (consistent with header Load button styling)
- Calls existing `handleLoadClick` (already wired to file picker)
- Sized to complement Generate button (px-8 py-4 text-lg)
  </action>
  <verify>
Run `npm run dev`, navigate to landing page (INPUT state), confirm:
1. "Load Presentation" button appears to the left of "Generate Slideshow"
2. Clicking "Load Presentation" opens file picker filtered to .pipi files
  </verify>
  <done>Load Presentation button visible on landing page and opens file picker when clicked</done>
</task>

<task type="auto">
  <name>Task 2: Add drag-drop hint text</name>
  <files>App.tsx</files>
  <action>
Below the button row (after the closing `</div>` of the flex justify-center container), add hint text informing users they can drag files:

```jsx
<p className="text-center text-sm text-slate-400 dark:text-slate-500 mt-4">
  or drag a <span className="font-mono text-indigo-500 dark:text-amber-400">.pipi</span> file anywhere to open
</p>
```

This text:
- Uses muted colors (slate-400/500) so it's subtle, not distracting
- Highlights ".pipi" in accent color (indigo/amber) for visibility
- Uses font-mono for the extension to distinguish it as a file type
- Placed after buttons, before the closing card div
  </action>
  <verify>
Run `npm run dev`, navigate to landing page:
1. Hint text "or drag a .pipi file anywhere to open" appears below buttons
2. ".pipi" is highlighted in accent color
3. Test drag-drop: drag a .pipi file onto the page and verify it loads (transitions to editor)
  </verify>
  <done>Hint text visible and drag-drop loads .pipi files correctly</done>
</task>

<task type="auto">
  <name>Task 3: Verify complete flow end-to-end</name>
  <files>App.tsx</files>
  <action>
No code changes needed. Verify the complete user flow works:

1. **Click flow:**
   - Start at landing page (INPUT state)
   - Click "Load Presentation" button
   - File picker opens filtered to .pipi
   - Select a .pipi file
   - File loads, app transitions to EDITING state
   - Toast shows "Presentation loaded successfully!"

2. **Drag-drop flow:**
   - Start at landing page (INPUT state)
   - Drag a .pipi file from Finder onto the browser window
   - File loads, app transitions to EDITING state
   - Toast shows "Presentation loaded successfully!"

3. **Error handling:**
   - Drag a non-.pipi file onto the page
   - Should show error toast: "[filename] is not a .pipi file. Only .pipi files can be loaded."

All three flows should work because they use existing infrastructure:
- handleLoadClick triggers the hidden file input
- handleLoadFile parses and loads the file
- useDragDrop is already enabled for INPUT state
  </action>
  <verify>
Manually test all three flows described above. Each should work correctly.
  </verify>
  <done>All load flows (button click, drag-drop, error handling) work correctly from landing page</done>
</task>

</tasks>

<verification>
After all tasks complete:
- [ ] "Load Presentation" button visible on landing page
- [ ] Button styled consistently (secondary variant, appropriate size)
- [ ] Hint text visible below buttons
- [ ] Click Load -> file picker opens -> select .pipi -> loads to editor
- [ ] Drag .pipi file onto page -> loads to editor
- [ ] Drag non-.pipi file -> error toast appears
- [ ] `npm run build` succeeds with no TypeScript errors
</verification>

<success_criteria>
Phase 6 is complete when:
1. LAND-01: User sees Load button, can click to select .pipi file
2. LAND-02: User can drag .pipi file onto landing page to auto-load
3. LAND-03: Loading from landing page transitions directly to editor

All requirements satisfied with ~30 lines of JSX changes.
</success_criteria>

<output>
After completion, create `.planning/phases/06-landing-page/06-01-SUMMARY.md`
</output>
